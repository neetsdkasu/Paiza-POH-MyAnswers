c="";h={};gets;s=ARGF.read.split.map{|x|h[y=x.reverse]?[x,y].min: ((x==y ?c+=x : h[x]="");"")}.sort*"";$><<s+c+s.reverse
